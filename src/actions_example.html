<html>
  <head>
    <script src="js_assets/runtime.js"></script>
    <script src="action_compiling_idea.js"></script>
    <script src="js_assets/node_debugger.js"></script>
    <script src="js_assets/cytoscape.min.js"></script>
    <script src="js_assets/dagre.js"></script>
    <script src="js_assets/cytoscape-dagre.js"></script>
    <script>
      window.addEventListener('DOMContentLoaded', function(){
          const picker = document.getElementById("num_picker");
          const label = document.getElementById("label_display");
          init_debugger(picker, label);
          picker.addEventListener('input', (n) => dc.set_step_to(Number(n.data)));
          bring_up_choices();
      });

      function set_description(desc){
          const description = document.getElementById("description");
          description.innerHTML = desc;
      }
      
      function bring_up_choices(){
          available_choices = find_choices();
          const choice_list = document.getElementById("choices");
          choice_list.innerHTML = '';
          let i = 1;
          for (choice of available_choices){
              let node = document.createElement("LI");                 
              let textnode = document.createTextNode(i+". "+choice.name);
              let link = document.createElement("A");                 
              link.appendChild(textnode);
              link.href = "javascript:;";
              const cur = i-1;
              link.onclick = () => choose(cur);
              node.appendChild(link);
              choice_list.appendChild(node);
              i++;
          }

          const storage_list = document.getElementById("storage");
          storage_list.innerHTML = '';
          for (element of DB) {
              let node = document.createElement("LI");
              let textnode = document.createTextNode(element.pprint());
              node.appendChild(textnode);
              storage_list.appendChild(node);
          }
      }

      function choose(n){
          make_choice(n);
          bring_up_choices();

      }

      
    </script>
  </head>
  <body>
    <div>
      <p id="description">Deck demo engaged.</p>
      <ul id="choices">
        <li><a href="">1.Blah blah blah</a></li>
        <li><a href="">2.Blah blah blah</a></li>
        <li><a href="">3.Blah blah blah</a></li>
      </ul>
    </div>
    <div>
      <ul id="storage">
      </ul>
    </div>

    <div>
      <div style="height: 50rem; width: 50vw;">
        <input type="number" disabled="true" name="quantity" min="0" max="0" value="0" id="num_picker">
        <h3 style="display: inline-block;padding-left: 1rem;" id="label_display">...</h3>
        <div style=" border-style: solid; border-width: thin; height: 100%" id="cy"> </div>
      </div>
      <!-- <img alt="debug" src="imgs/empty.png"/> -->
      
    </div>
  </body>
</html>
