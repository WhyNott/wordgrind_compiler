<html>
  <head>
    <script src="js_assets/runtime.js"></script>
    <script src="action_compiling_idea.js"></script>
    <script>
      dc = {
          add_new_step : (s) => console.log(s)
      };
      
      window.addEventListener('DOMContentLoaded', function(){
          bring_up_choices();
      });
      function bring_up_choices(){
          available_choices = find_choices();
          const choice_list = document.getElementById("choices");
          choice_list.innerHTML = '';
          let i = 1;
          for (choice of available_choices){
              let node = document.createElement("LI");                 
              let textnode = document.createTextNode(i+". "+choice.name);
              let link = document.createElement("A");                 
              link.appendChild(textnode);
              link.href = "javascript:;";
              const cur = i-1;
              link.onclick = () => choose(cur);
              node.appendChild(link);
              choice_list.appendChild(node);
              i++;
          }

          const storage_list = document.getElementById("storage");
          storage_list.innerHTML = '';
          for (element of DB) {
              let node = document.createElement("LI");
              let textnode = document.createTextNode(element.pprint());
              node.appendChild(textnode);
              storage_list.appendChild(node);
          }
      }

      function choose(n){
          make_choice(n);
          bring_up_choices();

      }
      
    </script>
  </head>
  <body>
    <div>
      <p>Deck demo engaged.</p>
      <ul id="choices">
        <li><a href="">1.Blah blah blah</a></li>
        <li><a href="">2.Blah blah blah</a></li>
        <li><a href="">3.Blah blah blah</a></li>
      </ul>
    </div>
    <div>
      <ul id="storage">
      </ul>
    </div>
    <div>
      <!-- <img alt="debug" src="imgs/empty.png"/> -->
    </div>
  </body>
</html>
