<input type="text" id="input"> <input type="submit" onclick="run_query()" value="Run query"></br>
<textarea id="output" rows="32" cols="50" disabled="true"></textarea>

<script src="compiled_example.js"></script>
<script>
  function run_query(){
      const input = document.getElementById("input");
      const output = document.getElementById("output");

      const out_pipe = (str) => {
          output.appendChild(document.createTextNode(str + "\n"));
      };
      try {
          query(input.value, out_pipe);
      } catch (err) {
          out_pipe(err.toString());
      }
  }

  //The dreaded occurs check! The first time ever it actually was relevent to me!
  //but is this actually due to a fault in my code?
  //ok, it must a fault with my code
  //okay, I think the whole way my variables share their memory locations is inherently flawed!
</script>

